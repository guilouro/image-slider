import{r as c,c as O}from"./vendor-CsHaB6wJ.js";import"./react-CiW5Bwbg.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();var E={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function T(){if(I)return v;I=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(n,e,t){var a=null;if(t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:o,type:n,key:a,ref:e!==void 0?e:null,props:t}}return v.Fragment=r,v.jsx=s,v.jsxs=s,v}var M;function A(){return M||(M=1,E.exports=T()),E.exports}var f=A();function D({totalWidth:o,containerWidth:r}){const[s,n]=c.useState(!1),[e,t]=c.useState(0),[a,l]=c.useState(0),d=Math.max(0,o-r),u=c.useCallback(i=>{const y=i-e,b=a-y,L=Math.min(d,b),j=Math.max(0,L);j!==a&&(l(j),t(i))},[e,a,d]),g=i=>{n(!0),t(i.clientX)},R=c.useCallback(i=>{s&&u(i.clientX)},[s,u]),p=()=>{n(!1)},S=()=>{n(!1)},x=i=>{n(!0),t(i.touches[0].clientX)},h=c.useCallback(i=>{s&&u(i.touches[0].clientX)},[s,u]);return{isDragging:s,scrollOffset:a,eventHandlers:{onMouseDown:g,onMouseMove:R,onMouseUp:p,onMouseLeave:S,onTouchStart:x,onTouchMove:h,onTouchEnd:()=>{n(!1)}}}}function k({image:o,width:r,height:s}){const n=r/s,e=o.width/o.height;let t,a,l,d;return e>n?(t=r,a=r/e,l=0,d=(s-a)/2):(a=s,t=s*e,l=(r-t)/2,d=0),{drawWidth:t,drawHeight:a,offsetX:l,offsetY:d}}function P(o,r,s,n,e){o.clearRect(0,0,n,e),o.fillStyle="#f2f2f2",o.fillRect(0,0,n,e),r.forEach((t,a)=>{const l=a*n-s;if(l+n>0&&l<n){const u=k({image:t,width:n,height:e});o.drawImage(t,l+u.offsetX,u.offsetY,u.drawWidth,u.drawHeight)}})}async function X(o){const r=[],s=o.map((n,e)=>new Promise((t,a)=>{r[e]=new Image,r[e].src=n,r[e].onerror=a,r[e].onload=()=>{t(r[e])}}));return await Promise.all(s),r}function C(){return f.jsx("svg",{className:"loading",width:"30",height:"30",viewBox:"0 0 50 50",style:{animation:"spin 1s linear infinite"},role:"status","aria-label":"Loading","aria-live":"polite",children:f.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"#3498db",strokeWidth:"5",fill:"none",strokeDasharray:"80",strokeDashoffset:"20"})})}function F({images:o,width:r=640,height:s=400}){const[n,e]=c.useState(!0),[t,a]=c.useState(0),[l,d]=c.useState([]),u=c.useRef(null),g=c.useRef(null),{isDragging:R,scrollOffset:p,eventHandlers:S}=D({totalWidth:r*o.length,containerWidth:r}),x=c.useCallback(()=>{g.current&&cancelAnimationFrame(g.current),g.current=requestAnimationFrame(()=>{const h=u.current;if(!(h&&l?.length>0&&t===o.length))return;const i=h.getContext("2d");i&&P(i,l,p,r,s)})},[l,t,r,s,p,o.length]);return c.useEffect(()=>{(async()=>{try{const m=await X(o);d(m),a(m?.length||0)}catch(m){console.error("Error loading images",m)}finally{e(!1)}})()},[o]),c.useEffect(()=>{x()},[x]),f.jsxs("div",{className:"slider-container",children:[n&&f.jsx(C,{}),f.jsx("canvas",{className:"slider",ref:u,width:r,height:s,role:"img","aria-label":"Image slider gallery","aria-roledescription":"Draggable image slider","aria-valuemin":0,"aria-valuemax":o.length-1,"aria-valuenow":Math.round(p/r),style:{cursor:R?"grabbing":"grab"},...S})]})}const _=["http://challenge.publitas.com/images/0.jpg","http://challenge.publitas.com/images/1.jpg","http://challenge.publitas.com/images/2.jpg","http://challenge.publitas.com/images/3.jpg"];function q(){return f.jsxs(f.Fragment,{children:[f.jsx("h1",{children:"Image Slider"}),f.jsx("p",{children:"This is a draggable image slider. Click and drag to navigate between images."}),f.jsx(F,{images:_})]})}O.createRoot(document.getElementById("root")).render(f.jsx(c.StrictMode,{children:f.jsx(q,{})}));
